@model OrderButtonModel
@{
    Html.AddScriptParts("~/Plugins/Misc.Membership/Assets/javascript/order-and-complete.js");
    var addToCartUrl = @Url.RouteUrl("AddProductToCart-Details", new { productId = Model.ProductId, shoppingCartTypeId = (int)ShoppingCartType.ShoppingCart });
    var completeOrderUrl = @Url.RouteUrl(MembershipPluginConstants.MEMBERSHIP_ORDER_AND_COMPLETE_ROUTE_NAME, new { productId = Model.ProductId });
}
<input type="button"
       class="button-1 add-to-cart-button my-test-btn"
       value="Create"
       onclick="createAndCompleteOrder()" /> @*FUNCTION NOT FOUND!!! TRY, MOVEING SCRIPT TO PAGE AFTER TRYING TO ADDING ONCLICK ON PAGELOAD*@

    <input type="hidden" id="addToCartUrl" value="@addToCartUrl" />
    <input type="hidden" id="completeOrderUrl" value="@completeOrderUrl" />
    <input type="hidden" id="productId" value="@Model.ProductId" />

    @*<input type="button"
        id="add-to-cart-button-@Model.ProductId"
        class="button-1 add-to-cart-button"
        value="Create my card"
        data-productid="@Model.ProductId"
        onclick="AjaxCart.addproducttocart_details('@Url.RouteUrl("AddProductToCart-Details", new {productId = Model.ProductId, shoppingCartTypeId = (int) ShoppingCartType.ShoppingCart})', '#product-details-form');return false;" />*@

    @*<script>
            function createAndCompleteOrder() {
                var addToCartUrl = document.getElementById('addToCartUrl').value;
                var completeOrderUrl = document.getElementById('completeOrderUrl').value;

                debugger;
                OrderAndComplete.run(addToCartUrl, completeOrderUrl);
            }

            var OrderAndComplete = {
                loadWaiting: false,
                usepopupnotifications: false,
                topcartselector: '',
                topwishlistselector: '',
                flyoutcartselector: '',
                localized_data: false,
                addToCartUrl: '',
                completeOrderUrl: '',
                formSelector: '#product-details-form',

                run: function (addToCartUrl, completeOrderUrl) {
                    console.log(addToCartUrl);
                    console.log(completeOrderUrl);

                    this.addToCartUrl = addToCartUrl;
                    this.completeOrderUrl = completeOrderUrl;

                    this.addOrder();
                },

                addOrder: function () {
                    this.sendDetails_details(this.addToCartUrl, this.formselector, this.add_to_cart_complete);
                },

                sendDetails_details: function (urladd, formselector, success_callback) {
                    $.ajax({
                        cache: false,
                        url: urladd,
                        data: $(formselector).serialize(),
                        type: "POST",
                        success: success_callback,
                        complete: this.resetLoadWaiting,
                        error: this.ajaxFailure
                    });
                },

                add_to_cart_complete: function (response) {
                    if (response.message) {
                        //display notification
                        if (response.success === true) {
                            this.sendDetails_details(this.completeOrderUrl, this.formselector, this.success_process);
                        }
                        else {
                            //error
                        }
                        return false;
                    }
                    if (response.redirect) {
                        location.href = response.redirect;
                        return true;
                    }
                    return false;
                },

                success_process: function (response) {
                    debugger;

                    if (response.updatetopcartsectionhtml) {
                        $(AjaxCart.topcartselector).html(response.updatetopcartsectionhtml);
                    }
                    if (response.updatetopwishlistsectionhtml) {
                        $(AjaxCart.topwishlistselector).html(response.updatetopwishlistsectionhtml);
                    }
                    if (response.updateflyoutcartsectionhtml) {
                        $(AjaxCart.flyoutcartselector).replaceWith(response.updateflyoutcartsectionhtml);
                    }
                    if (response.message) {
                        //display notification
                        if (response.success === true) {
                            //success
                            if (AjaxCart.usepopupnotifications === true) {
                                //displayPopupNotification(response.message, 'success', true);
                                this.addOrder();
                            }
                            else {
                                //specify timeout for success messages
                                displayBarNotification(response.message, 'success', 3500);
                            }
                        }
                        else {
                            //error
                            if (AjaxCart.usepopupnotifications === true) {
                                displayPopupNotification(response.message, 'error', true);
                            }
                            else {
                                //no timeout for errors
                                displayBarNotification(response.message, 'error', 0);
                            }
                        }
                        return false;
                    }
                    if (response.redirect) {
                        location.href = response.redirect;
                        return true;
                    }
                    return false;
                },

                resetLoadWaiting: function () {
                    AjaxCart.setLoadWaiting(false);
                },

                ajaxFailure: function () {
                    alert(this.localized_data.AjaxCartFailure);
                }
            }
        </script>*@